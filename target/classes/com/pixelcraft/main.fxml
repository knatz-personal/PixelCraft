<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.text.*?>
<?import javafx.scene.effect.*?>
<?import java.lang.*?>
<?import javafx.scene.canvas.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.shape.*?>
<?import javafx.collections.*?>
<?import javafx.geometry.*?>

<BorderPane prefHeight="800.0" prefWidth="1200.0" xmlns="http://javafx.com/javafx/8" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.pixelcraft.ui.MainController">
  <top>
    <VBox>
      <children>
        <MenuBar>
          <menus>
            <Menu text="File">
              <items>
                <MenuItem id="miNew" accelerator="Ctrl+N" onAction="#onNewImage" text="New" />
                <MenuItem id="miOpen" accelerator="Ctrl+O" onAction="#onOpenImage" text="Open..." />
                <MenuItem id="miSave" accelerator="Ctrl+S" onAction="#onSaveImage" text="Save" />
                <MenuItem id="miSaveAs" accelerator="Ctrl+Shift+S" onAction="#onSaveAsImage" text="Save As..." />
                <SeparatorMenuItem />
                <Menu fx:id="mnuRecents" onAction="#onRecents" text="Recents">
                  <items>
                    <MenuItem onAction="#onGenericClick" text="No recent files" />
                  </items>
                </Menu>
                <SeparatorMenuItem />
                <MenuItem id="miExit" onAction="#onExit" text="Exit" />
              </items>
            </Menu>
            <Menu text="Edit">
              <items>
                <MenuItem fx:id="miUndo" accelerator="Ctrl+Z" onAction="#onUndo" text="Undo" />
                <MenuItem fx:id="miRedo" accelerator="Ctrl+Y" onAction="#onRedo" text="Redo" />
                <SeparatorMenuItem />
                <MenuItem accelerator="Ctrl+X" onAction="#onGenericClick" text="Cut" />
                <MenuItem accelerator="Ctrl+C" onAction="#onGenericClick" text="Copy" />
                <MenuItem accelerator="Ctrl+V" onAction="#onGenericClick" text="Paste" />
                <MenuItem accelerator="Ctrl+A" onAction="#onGenericClick" text="Select All" />
              </items>
            </Menu>
            <Menu text="View">
              <items>
                <MenuItem fx:id="miZoomReset" accelerator="Ctrl+0" onAction="#onZoomReset" text="Actual (100%)" />
                <MenuItem fx:id="miZoomIn" accelerator="Ctrl+Plus" onAction="#onZoomIn" text="Zoom In" />
                <MenuItem fx:id="miZoomOut" accelerator="Ctrl+Minus" onAction="#onZoomOut" text="Zoom Out" />
                <MenuItem fx:id="miZoomFit" accelerator="Ctrl+F" onAction="#onZoomFitWindow" text="Zoom to Fit" />
              </items>
            </Menu>
            <Menu text="Image">
              <items>
                <MenuItem fx:id="miCrop" onAction="#onCrop" text="Crop" />
                <MenuItem onAction="#onGenericClick" text="Rotate" />
                <MenuItem onAction="#onGenericClick" text="Resize" />
                <MenuItem onAction="#onGenericClick" text="Flip" />
                <MenuItem onAction="#onGenericClick" text="Skew" />
              </items>
            </Menu>
            <Menu text="Filters">
              <items>
                <MenuItem onAction="#onGenericClick" text="Blur" />
                <MenuItem onAction="#onGenericClick" text="Sharpen" />
                <MenuItem onAction="#onGenericClick" text="Grayscale" />
                <MenuItem onAction="#onGenericClick" text="Invert" />
              </items>
            </Menu>
            <Menu text="Help">
              <items>
                <MenuItem onAction="#onGenericClick" text="About" />
              </items>
            </Menu>
          </menus>
        </MenuBar>
        <!--
        <ToolBar>
          <HBox spacing="6.0">
            <Button text="-"/>
            <Button text="-"/>
            <Button text="-"/>
            <Button text="-"/>
            <Button text="-"/>
          </HBox>
          <Separator orientation="VERTICAL"/>
          <HBox spacing="6.0">
            <ToggleButton text="a"/>
            <ToggleButton text="a"/>
            <ToggleButton text="a"/>
            <ToggleButton text="a"/>
            <ToggleButton text="a"/>
            <ToggleButton text="a/>
            <ToggleButton text="a"/>
            <ToggleButton text="a"/>
            <ToggleButton text="a"/>
          </HBox>
          <Region HBox.hgrow="ALWAYS"/>
          <HBox spacing="8.0" alignment="CENTER_RIGHT">
            <Label text="B C S H"/>
            <Separator orientation="VERTICAL"/>
            <Button text=""/>
            <Button text=""/>
            <Label text="100%"/>
            <Button text="Fit"/>
          </HBox>
        </ToolBar>
        -->
      </children>
    </VBox>
  </top>

  <center>
    <SplitPane dividerPositions="0.2, 0.8" BorderPane.alignment="CENTER">
      <items>
        <ScrollPane fitToHeight="true" fitToWidth="true" maxWidth="64.0" minWidth="64.0">
          <content>
            <Accordion maxWidth="64.0" minWidth="64.0" prefWidth="64.0">
              <panes>
                <TitledPane animated="false" text="Tools">
                  <content>
                    <VBox spacing="4.0">
                       <children>
                        <ToggleButton  fx:id="tbSelect" alignment="CENTER"  maxWidth="48.0" minWidth="48.0" wrapText="true" onAction="#onToggleSelect" text="Select" />
                         <ToggleButton fx:id="tbCrop" alignment="CENTER"    maxWidth="48.0" minWidth="48.0" wrapText="true" onAction="#onCrop" text="Crop" />
                         <ToggleButton fx:id="tbPencil" alignment="CENTER"  maxWidth="48.0" minWidth="48.0" wrapText="true" text="Pencil" />
                         <ToggleButton fx:id="tbEraser" alignment="CENTER"  maxWidth="48.0" minWidth="48.0" wrapText="true" text="Eraser" />
                         <ToggleButton fx:id="tbPicker" alignment="CENTER"  maxWidth="48.0" minWidth="48.0" wrapText="true" text="Picker" />
                         <ToggleButton fx:id="tbFill" alignment="CENTER"    maxWidth="48.0" minWidth="48.0" wrapText="true" text="Fill" />
                         <ToggleButton fx:id="tbLine" alignment="CENTER"    maxWidth="48.0" minWidth="48.0" wrapText="true" text="Line" />
                         <ToggleButton fx:id="tbEllipse" alignment="CENTER" maxWidth="48.0" minWidth="48.0" wrapText="true" text="Ellipse" />
                         <ToggleButton fx:id="tbClone" alignment="CENTER"   maxWidth="48.0" minWidth="48.0" wrapText="true" text="Clone" />
                       </children>
                    </VBox>
                  </content>
                </TitledPane>
                <TitledPane animated="false" text="Size">
                  <content>
                    <AnchorPane minHeight="0.0" minWidth="0.0" prefHeight="180.0" prefWidth="64.0" />
                  </content>
                </TitledPane>
                <TitledPane animated="false" text="Opacity">
                  <content>
                    <AnchorPane minHeight="0.0" minWidth="0.0" prefHeight="180.0" prefWidth="64.0" />
                  </content>
                </TitledPane>
                <TitledPane animated="false" text="Foreground/Background">
                  <content>
                    <AnchorPane minHeight="0.0" minWidth="0.0" prefHeight="180.0" prefWidth="64.0" />
                  </content>
                </TitledPane>
                <TitledPane animated="false" text="Colors">
                  <content>
                    <AnchorPane minHeight="0.0" minWidth="0.0" prefHeight="180.0" prefWidth="64.0" />
                  </content>
                </TitledPane>
              </panes>
            </Accordion>
          </content>
        </ScrollPane>
        <ScrollPane fx:id="scrollPane" fitToHeight="true" fitToWidth="true">
          <content>
            <StackPane fx:id="canvasContainer">
              <!-- A Canvas node will be created/managed by the MainController at runtime -->
            </StackPane>
          </content>
        </ScrollPane>
        <ScrollPane fitToHeight="true" fitToWidth="true" maxWidth="550.0" minWidth="1.0" prefWidth="550">
          <content>
            <VBox spacing="10" style="-fx-padding: 0;">
              <children>
                <TitledPane expanded="true" prefHeight="733.0" prefWidth="330.0" text="History" wrapText="true" VBox.vgrow="ALWAYS">
                  <content>
                    <ListView fx:id="lstHistory" prefHeight="500.0" VBox.vgrow="ALWAYS" />
                  </content>
                </TitledPane>
                <TitledPane expanded="true" prefHeight="733.0" prefWidth="330.0" text="Activity Log" wrapText="true" VBox.vgrow="ALWAYS">
                  <content>
                    <ListView fx:id="lstActivityLog" prefHeight="500.0" VBox.vgrow="ALWAYS" />
                  </content>
                </TitledPane>
              </children>
            </VBox>
          </content>
        </ScrollPane>
      </items>
    </SplitPane>
  </center>

  <bottom>
    <HBox alignment="CENTER_LEFT" fillHeight="true" spacing="8.0" BorderPane.alignment="CENTER_LEFT">
      <children>
        <Label fx:id="lblImageSize" text="0 x 0 px" textAlignment="RIGHT" />
        <Separator orientation="VERTICAL" />
        <Label fx:id="lblFileSize" text="" />
        <Separator orientation="VERTICAL" />
        <ComboBox fx:id="cmbZoomPresets" onAction="#onZoomPresetSelected" prefWidth="100.0" promptText="100%">
        </ComboBox>
        <Separator orientation="VERTICAL" />
        <Label fx:id="lblPosition" text="" />
        <Separator orientation="VERTICAL" />
        <Label fx:id="lblMode" text="Mode: Drawing" />
      </children>
    </HBox>
  </bottom>
</BorderPane>
